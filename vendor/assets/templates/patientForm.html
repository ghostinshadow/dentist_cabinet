<h2 class='custom row col-sm-offset-2'ng-hide='patientToUpdate'>Новий пацієнт:</h2>
<h2 class='custom row col-sm-offset-2' ng-show='patientToUpdate'>Редагування пацієнта:</h2>
<form name='form' class="form-horizontal col-sm-offset-3 col-sm-6">
	<fieldset>
		<legend class='custom' ng-hide='patientToUpdate'>Форма для створення</legend>
		<legend class='custom' ng-show='patientToUpdate'>Форма для редагування</legend>
		<div class="form-group">
			<label for="inputLastName" class="col-sm-3 control-label custom" ><h3>Призвіще</h3></label>
			<div class="col-sm-6">
				<input type="text" name='last_name' class="form-control input-lg custom" id="inputLastName" ng-model='newClient.last_name' ng-minlength = 2 ng-maxlength = 20 ng-pattern='/^[а-яА-ЯІіЄє]+$/' required>
				<div  ng-show='form.last_name.$invalid && form.last_name.$dirty '>
					<div ng-show='form.last_name.$error.minlength' class='animate custom'>Призвіще не може бути менше 2-ох символів</div>
					<div ng-show='form.last_name.$error.maxlength' class='animate custom'>Призвіще має бути менше 20-и символів</div>
					<div ng-show='form.last_name.$error.required' class='animate custom'>Слід ввести призвіще</div>
					<div ng-show='form.last_name.$error.pattern' class='animate custom'>Слід використовувати кирилицю</div>
				</div>
				<div ng-hide="(form.last_name.$invalid && form.last_name.$dirty)" class="error-placeholder">
				</div>
		</div>

		</div>
		<div class="form-group">
			<label for="inputFirstName" class="col-sm-3 control-label custom" ><h3>Ім'я</h3></label>
			<div class="col-sm-6">
				<input type="text" name='first_name' class="form-control input-lg custom" id="inputFirstName" ng-model='newClient.first_name' ng-minlength = 2 ng-maxlength = 20 ng-pattern='/^[а-яА-ЯІіЄє]+$/' required>
				<div ng-show='form.first_name.$invalid && form.first_name.$dirty '>
					<div ng-show='form.first_name.$error.minlength' class='animate  custom'>Ім'я не може бути менше 2-ох символів</div>
					<div ng-show='form.first_name.$error.maxlength' class='animate  custom'>Ім'я має бути менше 20-и символів</div>
					<div ng-show='form.first_name.$error.required' class='animate  custom'>Слід ввести Ім'я</div>
				</div>
				<div ng-hide="(form.last_name.$invalid && form.last_name.$dirty)" class="error-placeholder">
				</div>				
			</div>
		</div>
		<div class="form-group" ng-init="newClient.doctor_id=newClient.doctor_id || ''">
			<label for="inputDoctorId" class="col-sm-3 control-label custom"><h3>Лікар</h3></label>
			<div class="col-sm-6">
		  	<select class="form-control input-lg custom" ng-model='newClient.doctor_id' convert-to-number required>
		  	  <option value=''>Оберіть лікаря</option>
				  <option ng-repeat="doctor in doctors" value="{{doctor.id}}">{{doctor.body}}</option>
				</select>
				<div ng-show='form.doctor_id.$invalid && form.doctor_id.$dirty '>
					<div ng-show='form.doctor_id.$error.required' class='animate custom'>Слід вказати лікара</div>
				</div>
			</div>
		</div>
	</div>
	<div class="form-group">
		<label for="inputMilkTeeth" class="col-sm-3 control-label custom"><h3>Наявність молочних зубів</h3></label>
		<div class="col-sm-4">
			<select class="form-control input-lg custom" ng-model='newClient.milk_teeth' required>
			  <option value="">Оберіть пункт</option>
				<option value="1">Є</option>
				<option value="0">Відсутні</option>
			</select>
			<div ng-show='form.milk_teeth.$invalid && form.milk_teeth.$dirty '>
				<div ng-show='form.milk_teeth.$error.required' class='custom'>Слід вказати наявність</div>
			</div>
		</div>
	</div>
	<div class="form-group">
		<label for="inputDate" class="col-sm-3 control-label custom"><h3>Дата народження</h3></label>
		<div class="col-sm-5">
			<input type='date' class="form-control input-lg custom" ng-model='newClient.birth_day' required>
		</div>
	</div>
	<div class="form-group" ng-init="newClient.town_id=newClient.town_id || ''">
		<label for="inputTown" class="col-sm-3 control-label custom"><h3>Місто</h3></label>
		<div class="col-sm-4">
			<select  class="form-control input-lg custom" ng-model='newClient.town_id' convert-to-number>
			required>
        <option value="">Оберіть місто</option>
        <option ng-repeat="town in towns" value="{{town.id}}">{{town.body}}</option>
      </select>
			<div ng-show='form.town_id.$invalid && form.town_id.$dirty '>
				<div ng-show='form.town_id.$error.minlength' class='animate custom'>Місто не може бути менше 2-ох символів</div>
				<div ng-show='form.town_id.$error.maxlength' class='animate custom'>Місто має бути менше 20-и символів</div>
				<div ng-show='form.town_id.$error.required' class='animate custom'>Слід вказати місто</div>
			</div>
		</div>
	</div>
	<div class="form-group">
		<label for="inputPhone1" class="col-sm-3 control-label custom"><h3>Номер телефону 1</h3></label>
		<div class="col-sm-5">
			<input type="tel" name='telephone' class="form-control input-lg custom" id="inputTelNum1" ng-model='newClient.telephone' ng-minlength = 10 ng-maxlength = 20 ng-pattern='/^[0-9]{3}-[0-9]{3}-[0-9]{2}-[0-9]{2}$/' >
			<div ng-show='form.telephone.$invalid && form.telephone.$dirty '>
				<div ng-show='form.telephone.$error.minlength' class='animate custom'>Номер телефону не може бути менше 10-и символів Формат: xxx-xxx-xx-xx</div>
				<div ng-show='form.telephone.$error.maxlength' class='animate custom'>Номер телефону не може бути більше 20-и символів. Формат: xxx-xxx-xx-xx</div>
				<div ng-show='form.telephone.$error.required' class='animate custom'>Слід вказати мобільний телефон. </div>
			</div>
		</div>
	</div>
	<div class="form-group">
		<label for="inputPhone2" class="col-sm-3 control-label custom"><h3>Номер телефону 2</h3></label>
		<div class="col-sm-5">
			<input type="tel" name='backup_telephone' class="form-control input-lg custom" id="inputTelNum2" ng-model='newClient.backup_telephone' ng-minlength = 5 ng-maxlength = 20 ng-maxlength = 15 ng-pattern='/^[0-9-]+$/'>
			<div ng-show='form.backup_telephone.$invalid && form.backup_telephone.$dirty '>
				<div ng-show='form.backup_telephone.$error.minlength' class='animate custom'>Номер телефону не може бути менше 5-и символів</div>
				<div ng-show='form.backup_telephone.$error.maxlength' class='animate custom'>Номер телефону не може бути більше 15-и символів. Формат: xxx-xxx-xx-xx</div>
			</div>
		</div>
	</div>
	<div class="form-group">
		<label for="inputEmail" class="col-sm-3 control-label custom"><h3>Email</h3></label>
		<div class="col-sm-6">
			<input type="email" name='email' class="form-control input-lg custom" id="inputEmail" ng-model='newClient.email' >
			<div ng-show='form.email.$invalid && form.email.$dirty '>
				<div ng-show='form.email.$error.required' class='animate custom'>Слід вказати email</div>
			</div>
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-offset-6 col-sm-3">
			<button type="submit" ng-disabled='form.$dirty && form.$invalid' class="btn btn-large btn-success" ng-click='submitForm(newClient)' ng-hide='patientToUpdate'>Створити запис</button>
			<button type="submit" ng-disabled='form.$dirty && form.$invalid' class="btn btn-large btn-success" ng-click='updateForm(newClient)' ng-show='patientToUpdate'>Редагувати запис</button>
		</div>
	</div>
</fieldset>
</form>
<script>
	$(document).ready(function(){
		$("#inputTelNum1").mask("000-000-00-00");
	})
</script>